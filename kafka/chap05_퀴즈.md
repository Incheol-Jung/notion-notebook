✅ 『5장 프로듀서의 내부 동작 원리와 구현』
📌 혼합형 객관식 문제 (단문항/다문항)
1. Kafka 파티셔너의 주 역할로 올바른 것은?
① 메시지 순서 보장
② 메시지 파티션 선택
③ 컨슈머 그룹 관리
④ 배치 전송 결정
✅ 정답: ② (단문항)

2. Sticky 파티셔너 전략의 주된 효과는?
① 처리량 감소
② 배치 효율성 향상
③ 키 순서성 깨짐
④ 네트워크 I/O 절감
✅ 정답: ②, ④ (다문항)

3. 파티션 수가 늘어나면 해시 기반 파티셔너에서 발생할 수 있는 문제는?
① ISR 크기 증가
② 동일 키의 파티션 매핑 변경
③ 메시지 압축 비활성화
④ 컨슈머 리밸런싱 자동 발생
✅ 정답: ② (단문항)

4. linger.ms 옵션의 역할로 올바른 것은?
① 배치 크기 설정
② 버퍼 용량 제한
③ 최대 대기 시간 설정
④ 압축 비율 설정
✅ 정답: ③ (단문항)

5. Kafka 배치 처리의 장점으로 올바른 것을 모두 고르세요.
① 네트워크 요청 횟수 감소
② 메시지 순서성 무조건 보장
③ 처리량(Throughput) 향상
④ 버퍼 메모리 감소
✅ 정답: ①, ③ (다문항)

6. Kafka 멱등성(Idempotence)에 대한 설명으로 올바른 것은?
① 메시지 중복 전송 방지
② 트랜잭션 처리와 동일 개념
③ PID와 시퀀스 번호 사용
④ 반드시 acks=0으로 설정
✅ 정답: ①, ③ (다문항)

7. Exactly-once 전송을 위해 필요한 설정으로 옳은 것은?
① enable.idempotence=true
② 트랜잭션 코디네이터 사용
③ Sticky 파티셔너 무조건 사용
④ ISR 최소화
✅ 정답: ①, ② (다문항)

8. Kafka에서 메시지 압축을 사용하는 주요 이유는?
① 메시지 순서 보장
② 디스크 공간 절약
③ 네트워크 대역폭 절감
④ 컨슈머 리밸런싱 방지
✅ 정답: ②, ③ (다문항)

9. 프로듀서 배치와 Sticky 파티셔너를 함께 사용할 때 장점은?
① 소량 메시지 분산 방지
② 배치가 빨리 차서 효율 ↑
③ ISR 크기 늘어나서 좋음
④ 컨슈머 그룹이 분산됨
✅ 정답: ①, ② (다문항)

10. enable.idempotence가 false일 때 발생할 수 있는 상황은?
① 중복 메시지 전송
② PID가 발급되지 않음
③ 컨슈머가 자동 커밋함
④ 리더 에포크 충돌
✅ 정답: ①, ② (다문항)

📌 [주관식] (응용 중심)
11. Sticky 파티셔너가 없는 환경에서 배치 효율이 떨어지는 이유를 설명하세요.
✅ 예시 답: 키가 없는 메시지가 라운드 로빈으로 분산되면 파티션별 배치 크기가 작아져 I/O가 비효율적이기 때문.

12. linger.ms 값을 높게 설정하면 처리량과 지연에 어떤 영향을 미치는지 설명하세요.
✅ 예시 답: 처리량은 올라가지만 메시지 전송 지연 시간이 길어져 실시간성이 필요한 상황에는 부적합할 수 있다.

13. Kafka 멱등성(Idempotence)과 Exactly-once의 차이를 간략히 비교하세요.
✅ 예시 답: 멱등성은 프로듀서의 중복 전송만 막아주고, Exactly-once는 컨슈머 오프셋까지 트랜잭션으로 묶어 중복 없이 처리한다.

14. Kafka에서 파티션 수를 늘릴 때 데이터 순서성이 깨질 수 있는 이유를 설명하세요.
✅ 예시 답: 파티셔너가 사용하는 키 해시 테이블이 바뀌어 동일 키의 메시지가 다른 파티션으로 매핑될 수 있기 때문이다.

15. 메시지 압축과 배치를 함께 사용하면 네트워크 효율이 왜 높아지는지 실무 관점으로 설명하세요.
✅ 예시 답: 여러 메시지를 묶어 큰 단위로 전송하고 압축까지 하면 데이터 전송량이 줄어들어 네트워크와 디스크 I/O가 줄어든다.
