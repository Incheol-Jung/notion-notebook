# 📚 Kafka 컨슈머 동작 원리 실습 퀴즈



## ✅ 객관식 10문제



**1. Kafka 컨슈머의 오프셋 관리에 대한 설명으로 옳지 않은 것은?**

- A. 오프셋은 `_consumer_offsets`라는 내부 토픽에 저장된다.
- B. 오프셋 정보는 컨슈머 그룹 단위로만 관리된다.
- C. 장애 시 마지막 저장된 오프셋부터 이어서 메시지를 읽을 수 있다.
- D. 오프셋은 수동으로 기록할 수 없다.

**정답:** B, D



**2. 그룹 코디네이터의 역할로 알맞은 것을 모두 고르시오.**

- A. 파티션 할당 관리
- B. 멤버 상태 유지 및 변경 감지
- C. 메시지 생산(Producer) 작업 수행
- D. 리밸런싱 트리거

**정답:** A, B, D



**3. 컨슈머와 그룹 코디네이터가 상태를 확인하기 위해 주기적으로 사용하는 것은?**

- A. 세션 타임아웃
- B. 하트비트
- C. 리밸런싱 딜레이
- D. 트랜잭션 ID

**정답:** B



**4. 컨슈머 그룹의 리밸런싱이 자주 일어나는 것을 방지하기 위한 방법으로 옳은 것은?**

- A. 하트비트 주기 최소화
- B. 스태틱 멤버십 사용
- C. Cooperative Sticky 할당 전략 사용
- D. EAGER 리밸런싱 사용

**정답:** B, C



**5. 아래 중 Round-Robin 할당 전략의 특징으로 알맞은 것을 모두 고르시오.**

- A. 파티션을 순서대로 나열해 순차적으로 할당한다.
- B. 일부 컨슈머에 파티션이 몰릴 수 있다.
- C. 균등 분배에 유리하다.
- D. 리밸런싱 시 기존 파티션 유지에 집중한다.

**정답:** A, C



**6. Sticky 파티션 할당 전략의 주된 목적은?**

- A. 파티션을 완전히 새로 할당한다.
- B. 기존 할당을 최대한 유지한다.
- C. 컨슈머 수에 따라 파티션을 무작위 분배한다.
- D. 하트비트 주기를 줄인다.

**정답:** B



**7. `_consumer_offsets` 토픽의 기본 파티션 수와 복제 수에 대한 설명으로 옳은 것은?**

- A. 파티션 수 기본 50, 복제 수 기본 3이다.
- B. 기본값은 변경할 수 없다.
- C. server.properties에서 조정할 수 있다.
- D. 이 값은 하드코딩 되어 고정이다.

**정답:** A, C



**8. 스태틱 멤버십 설정을 위해 사용되는 Kafka 설정 값은?**

- A. group.instance.id
- B. offsets.topic.num.partitions
- C. session.timeout.ms
- D. enable.idempotence

**정답:** A



**9. 정확히 한 번 컨슈머 동작과 관련하여 필요한 것은?**

- A. 트랜잭션 ID 사용
- B. 하트비트 생략
- C. 오프셋 커밋 시점 관리
- D. EAGER 리밸런싱 강제 적용

**정답:** A, C



**10. Cooperative Sticky 전략의 장점으로 올바른 것은?**

- A. 모든 파티션을 한 번에 재할당한다.
- B. 일부 파티션만 재할당하여 불필요한 중지 최소화
- C. EAGER보다 리밸런싱 비용이 높다.
- D. 스태틱 멤버십과 함께 사용 가능하다.

**정답:** B, D



## ✅ 주관식 5문제



**1. 컨슈머 그룹에서 리밸런싱이 발생하는 두 가지 주요 상황을 쓰시오.**

**정답:**  
- 컨슈머가 추가되거나 제거될 때  
- 그룹 내 파티션 수나 구성에 변화가 있을 때

**2. 스태틱 멤버십(static membership)을 사용할 때 리밸런싱이 자주 발생하지 않는 이유를 설명하시오.**

**정답:**  
- 컨슈머가 재시작하더라도 동일한 `group.instance.id`를 사용해 기존 멤버로 인식되기 때문에 불필요한 재할당이 일어나지 않는다.

**3. 하트비트(heartbeat)의 역할과 연관 설정 옵션 2가지를 쓰시오.**

**정답:**  
- 역할: 컨슈머가 정상인지 그룹 코디네이터에게 주기적으로 상태를 알림.  
- 관련 설정: `heartbeat.interval.ms`, `session.timeout.ms`



**4. Cooperative Sticky와 기존 EAGER 리밸런싱의 차이점을 간략히 쓰시오.**

**정답:**  
- Cooperative Sticky는 일부 파티션만 단계적으로 재할당해 중단 시간을 최소화한다.  
- EAGER는 모든 파티션을 한 번에 재할당해 중단 비용이 더 크다.



**5. 정확히 한 번 전송(Exactly Once)과 정확히 한 번 읽기(Exactly Once Delivery)의 핵심 차이를 쓰시오.**

**정답:**  
- 전송: 프로듀서가 트랜잭션을 사용해 메시지를 중복 없이 전송.  
- 읽기: 컨슈머가 메시지를 중복 처리하지 않도록 오프셋을 commit 시점과 함께 관리.
